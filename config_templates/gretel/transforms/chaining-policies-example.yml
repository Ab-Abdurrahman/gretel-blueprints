# This config is an example of how policies can be chained together.
# The first policy that is matched for a given field will determine what transform is going to be applied.

schema_version: 1.0

models:
  - transforms:
      data_source: "__tmp__"
      policies:
        # This policy will fake or hash values for all the fields that are labeled with any label.
        - name: remove_pii
          rules:
            - name: fake_or_hash_pii
              conditions:
                field_label:
                  - "*"
              transforms:
                - type: fake
                  attrs:
                    seed: 1234
                - type: hash

        # This policy will preserve any field that has an `is_id` attribute.
        - name: preserve_ids
          rules:
            - name: passthrough_id_fields
              conditions:
                field_attributes:
                  is_id: true
              transforms:
                - type: passthrough

        # This policy will drop all other fields.
        - name: drop_everything_else
          rules:
            - name: drop
              conditions:
                field_name_regex:
                  - "^.*$"
              transforms:
                - type: drop

label_predictors:
  field_label_threshold: 0.9
